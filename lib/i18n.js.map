{"version":3,"sources":["../src/i18n.js"],"names":["s","result","translations","args","undefined","format","colonPos","indexOf","substr","length","tag","arg","replace","m","nr"],"mappings":";;;;;;kBAgBe,UAASA,CAAT,EACf;AACI,QAAMC,SAAS,oCAAgBC,YAAhB,CAA6BF,CAA7B,CAAf;;AADJ,sCAD+BG,IAC/B;AAD+BA,YAC/B;AAAA;;AAEI,QAAIF,WAAWG,SAAf,EACA;AACI,eAAOC,OAAOJ,MAAP,EAAeE,IAAf,CAAP;AACH;;AAED,QAAMG,WAAWN,EAAEO,OAAF,CAAU,GAAV,CAAjB;AACA,QAAID,YAAY,CAAhB,EACA;AACIN,YAAIA,EAAEQ,MAAF,CAAUF,WAAW,CAArB,CAAJ;AACH;;AAED,QAAIH,KAAKM,MAAL,GAAc,CAAlB,EACA;AACI,eAAO,MAAMJ,OAAOL,CAAP,EAAUG,IAAV,CAAN,GAAwB,GAA/B;AACH;AACD,WAAO,MAAMH,CAAN,GAAU,GAAjB;AACH,C;;AAnCD;;AAEA,SAASK,MAAT,CAAgBK,GAAhB,EAAqBC,GAArB,EACA;AACI,WAAOD,IAAIE,OAAJ,CAAY,aAAZ,EAA2B,UAAUC,CAAV,EAAaC,EAAb,EAClC;AACI,eAAOH,IAAI,CAACG,EAAL,CAAP;AACH,KAHM,CAAP;AAIH;;AAED;;;;;;AAyBC","file":"i18n.js","sourcesContent":["import { configuration } from \"./configuration\";\n\nfunction format(tag, arg)\n{\n    return tag.replace(/{([0-9]+)}/g, function (m, nr)\n    {\n        return arg[+nr];\n    });\n}\n\n/**\n * Returns a translation of the given translation key with additional optional arguments\n * @param {string} s translation tag/key\n * @param {...string} args optional translation parameters\n * @returns {string}\n */\nexport default function(s, ... args)\n{\n    const result = configuration().translations[s];\n    if (result !== undefined)\n    {\n        return format(result, args);\n    }\n\n    const colonPos = s.indexOf(':');\n    if (colonPos >= 0)\n    {\n        s = s.substr( colonPos + 1);\n    }\n\n    if (args.length > 0)\n    {\n        return \"[\" + format(s, args) + \"]\"\n    }\n    return \"[\" + s + \"]\";\n};\n"]}