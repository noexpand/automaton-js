{"version":3,"sources":["../src/i18n.js"],"names":["key","result","config","translations","args","undefined","format","colonPos","indexOf","substr","length","tag","replace","m","nr"],"mappings":";;;;;;kBAiBe,UAAUA,GAAV,EAAwB;AACnC,QAAMC,SAASC,iBAAOC,YAAP,CAAoBH,GAApB,CAAf;;AADmC,sCAANI,IAAM;AAANA,YAAM;AAAA;;AAGnC,QAAI,OAAOH,MAAP,KAAkB,UAAtB,EACA;AACI,eAAOA,OAAOD,GAAP,EAAYI,IAAZ,CAAP;AACH;;AAED,QAAIH,WAAWI,SAAf,EACA;AACI,eAAOC,OAAOL,MAAP,EAAeG,IAAf,CAAP;AACH;;AAED,QAAMG,WAAWP,IAAIQ,OAAJ,CAAY,GAAZ,CAAjB;AACA,QAAID,YAAY,CAAhB,EACA;AACIP,cAAMA,IAAIS,MAAJ,CAAWF,WAAW,CAAtB,CAAN;AACH;;AAED,QAAIH,KAAKM,MAAL,GAAc,CAAlB,EACA;AACI,eAAO,MAAMJ,OAAON,GAAP,EAAYI,IAAZ,CAAN,GAA0B,GAAjC;AACH;AACD,WAAO,MAAMJ,GAAN,GAAY,GAAnB;AACH,C;;AAzCD;;;;;;AAGA,SAASM,MAAT,CAAgBK,GAAhB,EAAqBP,IAArB,EACA;AACI,WAAOO,IAAIC,OAAJ,CAAY,aAAZ,EAA2B,UAAUC,CAAV,EAAaC,EAAb,EAAiB;AAC/C,eAAOV,KAAK,CAACU,EAAN,CAAP;AACH,KAFM,CAAP;AAGH;;AAGD;;;;;;AA8BC","file":"i18n.js","sourcesContent":["import config from \"./config\";\n\n\nfunction format(tag, args)\n{\n    return tag.replace(/{([0-9]+)}/g, function (m, nr) {\n        return args[+nr];\n    });\n}\n\n\n/**\n * Returns a translation of the given translation key with additional optional arguments\n * @param {string} key translation tag/key\n * @param {...string} args optional translation parameters\n * @returns {string}\n */\nexport default function (key, ...args) {\n    const result = config.translations[key];\n\n    if (typeof result === \"function\")\n    {\n        return result(key, args);\n    }\n\n    if (result !== undefined)\n    {\n        return format(result, args);\n    }\n\n    const colonPos = key.indexOf(\":\");\n    if (colonPos >= 0)\n    {\n        key = key.substr(colonPos + 1);\n    }\n\n    if (args.length > 0)\n    {\n        return \"[\" + format(key, args) + \"]\"\n    }\n    return \"[\" + key + \"]\";\n};\n"]}