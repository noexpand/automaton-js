{"version":3,"sources":["../src/i18n.js"],"names":["s","result","config","translations","args","undefined","format","colonPos","indexOf","substr","length","tag","replace","m","nr"],"mappings":";;;;;;kBAiBe,UAAUA,CAAV,EAAsB;AACjC,QAAMC,SAASC,iBAAOC,YAAP,CAAoBH,CAApB,CAAf;;AADiC,sCAANI,IAAM;AAANA,YAAM;AAAA;;AAGjC,QAAI,OAAOH,MAAP,KAAkB,UAAtB,EACA;AACI,eAAOA,OAAOD,CAAP,EAAUI,IAAV,CAAP;AACH;;AAED,QAAIH,WAAWI,SAAf,EACA;AACI,eAAOC,OAAOL,MAAP,EAAeG,IAAf,CAAP;AACH;;AAED,QAAMG,WAAWP,EAAEQ,OAAF,CAAU,GAAV,CAAjB;AACA,QAAID,YAAY,CAAhB,EACA;AACIP,YAAIA,EAAES,MAAF,CAASF,WAAW,CAApB,CAAJ;AACH;;AAED,QAAIH,KAAKM,MAAL,GAAc,CAAlB,EACA;AACI,eAAO,MAAMJ,OAAON,CAAP,EAAUI,IAAV,CAAN,GAAwB,GAA/B;AACH;AACD,WAAO,MAAMJ,CAAN,GAAU,GAAjB;AACH,C;;AAzCD;;;;;;AAGA,SAASM,MAAT,CAAgBK,GAAhB,EAAqBP,IAArB,EACA;AACI,WAAOO,IAAIC,OAAJ,CAAY,aAAZ,EAA2B,UAAUC,CAAV,EAAaC,EAAb,EAAiB;AAC/C,eAAOV,KAAK,CAACU,EAAN,CAAP;AACH,KAFM,CAAP;AAGH;;AAGD;;;;;;AA8BC","file":"i18n.js","sourcesContent":["import config from \"./config\";\n\n\nfunction format(tag, args)\n{\n    return tag.replace(/{([0-9]+)}/g, function (m, nr) {\n        return args[+nr];\n    });\n}\n\n\n/**\n * Returns a translation of the given translation key with additional optional arguments\n * @param {string} s translation tag/key\n * @param {...string} args optional translation parameters\n * @returns {string}\n */\nexport default function (s, ...args) {\n    const result = config.translations[s];\n\n    if (typeof result === \"function\")\n    {\n        return result(s, args);\n    }\n\n    if (result !== undefined)\n    {\n        return format(result, args);\n    }\n\n    const colonPos = s.indexOf(\":\");\n    if (colonPos >= 0)\n    {\n        s = s.substr(colonPos + 1);\n    }\n\n    if (args.length > 0)\n    {\n        return \"[\" + format(s, args) + \"]\"\n    }\n    return \"[\" + s + \"]\";\n};\n"]}