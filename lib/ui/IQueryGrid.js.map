{"version":3,"sources":["../../src/ui/IQueryGrid.js"],"names":["Column","props","name","context","children","result","String","React","Component","DataGrid","value","rows","rowCount","Children","map","col","heading","idx","cloneElement"],"mappings":";;;;;;;;AAAA;;;;AACA;;;;;;;;;;;;IAGMA,M;;;;;;;;;;;iCAGF;AAAA,yBACsC,KAAKC,KAD3C;AAAA,gBACWC,IADX,UACWA,IADX;AAAA,gBACiBC,OADjB,UACiBA,OADjB;AAAA,gBAC0BC,QAD1B,UAC0BA,QAD1B;;;AAGI,gBAAI,OAAOA,QAAP,KAAoB,UAAxB,EACA;AACI,oBAAMC,SAASD,SAASD,OAAT,CAAf;;AAEA;;AAEA,uBACI;AAAA;AAAA;AAEQ,2BAAOE,MAAP,KAAkB,QAAlB,GACI;AAAA;AAAA;AACI,uCAAU;AADd;AAIQA;AAJR,qBADJ,GAOWA;AATnB,iBADJ;AAcH;;AAED;;AAEA,mBACI;AAAA;AAAA;AACI;AAAA;AAAA;AACI,mCAAU;AADd;AAIQC,2BAAO,sBAAIH,OAAJ,EAAYD,IAAZ,CAAP;AAJR;AADJ,aADJ;AAWH;;;;EAzCgBK,gBAAMC,S;;AA6C3B;;;;;IAGMC,Q;;;;;;;;;;;iCAGF;AAAA,0BAC8B,KAAKR,KADnC;AAAA,gBACWS,KADX,WACWA,KADX;AAAA,gBACkBN,QADlB,WACkBA,QADlB;AAAA,gBAEWO,IAFX,GAE6BD,KAF7B,CAEWC,IAFX;AAAA,gBAEiBC,QAFjB,GAE6BF,KAF7B,CAEiBE,QAFjB;;;AAII,mBACI;AAAA;AAAA,kBAAO,WAAU,kDAAjB;AACI;AAAA;AAAA;AACA;AAAA;AAAA;AAEQL,wCAAMM,QAAN,CAAeC,GAAf,CACIV,QADJ,EAEI;AAAA,mCACI;AAAA;AAAA;AAEQW,oCAAId,KAAJ,CAAUe;AAFlB,6BADJ;AAAA,yBAFJ;AAFR;AADA,iBADJ;AAiBI;AAAA;AAAA;AAEIL,yBAAKG,GAAL,CACI,UAACX,OAAD,EAAUc,GAAV;AAAA,+BACI;AAAA;AAAA,8BAAI,KAAKA,GAAT;AAEQV,4CAAMM,QAAN,CAAeC,GAAf,CACIV,QADJ,EAEI;AAAA,uCACIG,gBAAMW,YAAN,CACIH,GADJ,EAEI;AACIZ;AADJ,iCAFJ,CADJ;AAAA,6BAFJ;AAFR,yBADJ;AAAA,qBADJ;AAFJ;AAjBJ,aADJ;AA2CH;;;;EAlDkBI,gBAAMC,S;;AAAvBC,Q,CAqDKT,M,GAASA,M;kBAILS,Q","file":"IQueryGrid.js","sourcesContent":["import React from \"react\"\nimport get from \"lodash.get\"\n\n\nclass Column extends React.Component {\n\n    render()\n    {\n        const {name, context, children} = this.props;\n\n        if (typeof children === \"function\")\n        {\n            const result = children(context);\n\n            //console.log(\"FN-RESULT\", result);\n\n            return (\n                <td>\n                    {\n                        typeof result === \"string\" ?\n                            <p\n                                className=\"form-control-plaintext\"\n                            >\n                                {\n                                    result\n                                }\n                            </p> : result\n                    }\n                </td>\n            );\n        }\n\n        //console.log(\"context[name] = \", context[name]);\n\n        return (\n            <td>\n                <p\n                    className=\"form-control-plaintext\"\n                >\n                    {\n                        String(get(context,name))\n                    }\n                </p>\n            </td>\n        )\n    }\n}\n\n\n/**\n * Data grid what works based on degenerified Paged<DomainObject> types.\n */\nclass DataGrid extends React.Component {\n\n    render()\n    {\n        const {value, children} = this.props;\n        const {rows, rowCount} = value;\n\n        return (\n            <table className=\"table table-hover table-striped table-responsive\">\n                <thead>\n                <tr>\n                    {\n                        React.Children.map(\n                            children,\n                            col => (\n                                <th>\n                                    {\n                                        col.props.heading\n                                    }\n                                </th>\n                            )\n                        )\n                    }\n                </tr>\n                </thead>\n                <tbody>\n                {\n                    rows.map(\n                        (context, idx) => (\n                            <tr key={idx}>\n                                {\n                                    React.Children.map(\n                                        children,\n                                        col => (\n                                            React.cloneElement(\n                                                col,\n                                                {\n                                                    context\n                                                }\n                                            )\n                                        )\n                                    )\n                                }\n                            </tr>\n                        )\n                    )\n                }\n                </tbody>\n            </table>\n        )\n    }\n\n\n    static Column = Column;\n}\n\n\nexport default DataGrid\n"]}