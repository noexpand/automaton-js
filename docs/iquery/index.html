<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Automaton-Js Documentation - InteractiveQuery / FilterDSL</title><link rel="stylesheet" type="text/css" href="/automaton-js/css/fontawesome.min.css"/><link rel="stylesheet" type="text/css" href="/automaton-js/css/brands.min.css"/><link rel="stylesheet" type="text/css" href="/automaton-js/css/solid.min.css"/><link rel="stylesheet" type="text/css" href="/automaton-js/css/bootstrap-automaton-condensed.min.css"/><meta name="next-head-count" content="8"/><link rel="preload" href="/automaton-js/_next/static/css/0e71974b2f1a9c53126f.css" as="style"/><link rel="stylesheet" href="/automaton-js/_next/static/css/0e71974b2f1a9c53126f.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/automaton-js/_next/static/chunks/polyfills-a40ef1678bae11e696dba45124eadd70.js"></script><script src="/automaton-js/_next/static/chunks/webpack-fad2d2bf96cd440cad55.js" defer=""></script><script src="/automaton-js/_next/static/chunks/framework.e3de07479da4f2477dea.js" defer=""></script><script src="/automaton-js/_next/static/chunks/commons.95830845f58c6f70b57c.js" defer=""></script><script src="/automaton-js/_next/static/chunks/main-4ad3bb8a76d562038910.js" defer=""></script><script src="/automaton-js/_next/static/chunks/pages/_app-9d4aff31245489e5f154.js" defer=""></script><script src="/automaton-js/_next/static/chunks/39b4fb4d275055bb84513a65db65e747b75d5179.13f3c585d230fd880266.js" defer=""></script><script src="/automaton-js/_next/static/chunks/pages/iquery-480ba68aa497e196d9d1.js" defer=""></script><script src="/automaton-js/_next/static/CMA9tZLjYQcryFRYcJlJn/_buildManifest.js" defer=""></script><script src="/automaton-js/_next/static/CMA9tZLjYQcryFRYcJlJn/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="container"><header><nav class="navbar navbar-dark bg-primary"><a class="navbar-brand text-white" href="/automaton-js/"><i class="fab fa-quinscape"></i> Automaton-Js</a></nav></header><main class="row"><div class="col-10 mt-3"><div class="container"><div class="row"><div class="col"><h1>InteractiveQuery / FilterDSL</h1><section id="FieldResolver" class="mb-5"><h2><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 23.283 28.046" class="icon mr-2"><g transform="translate(-76.748 -118.545)"><rect style="marker:none" width="19.198" height="22.348" x="76.756" y="122.895" rx="2.646" ry="2.646" color="#000" overflow="visible" fill="#ff25e9" fill-opacity="0.499" fill-rule="evenodd"></rect><path d="M86.286 138.996a6.114 6.114 0 011.837-3.662 32 32 0 01-.948.04 29.54 29.54 0 01-1.883 0c-2.648-.073-4.759-.447-6.278-.98-.715-.24-1.326-.524-1.798-.849v3.391c1.026 1.072 4.47 2.06 9.018 2.06h.052zM85.382 134.254c.117.003.235.007.354.008a27.382 27.382 0 001.352-.008l.126-.003c4.06-.13 7.088-1.052 8.04-2.045v-3.391c-1.757 1.206-5.468 1.844-9.02 1.844-3.55 0-7.262-.638-9.018-1.844V132.206c.951.993 3.98 1.915 8.04 2.045l.126.003z" style="font-variation-settings:normal" fill="#375a7f"></path><path d="M95.253 127.523V126.69c0-.06-.02-.115-.049-.165-.404-1.552-3.517-3.082-8.97-3.082-5.439 0-8.548 1.522-8.965 3.07a.35.35 0 00-.053.177V127.523c1.023 1.068 4.443 2.054 9.019 2.054 4.575 0 7.995-.986 9.018-2.054z" fill="#375a7f"></path><path d="M86.253 140.11h-.019c-4.453 0-7.527-.825-9.018-1.876v2.959a.34.34 0 00.042.163c.426 1.765 4.238 3.084 8.976 3.084.722 0 1.418-.034 2.088-.092a6.113 6.113 0 01-2.07-4.237z" style="font-variation-settings:normal" fill="#375a7f"></path><path style="line-height:125%;-inkscape-font-specification:&#x27;LatoLatin, Medium Italic&#x27;;font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center" d="M84.13 131.555c-.276 0-.548.065-.793.177a.802.802 0 00-.012.004c-.23.11-.437.268-.61.448-.179.18-.328.398-.433.636a.802.802 0 00-.006.014c-.104.25-.156.52-.156.787 0 .268.053.538.152.785a.802.802 0 00.016.036c.1.218.231.423.393.603a.802.802 0 00.03.031c.178.177.385.323.604.428a.802.802 0 00.026.012 1.943 1.943 0 001.537.004.802.802 0 00.025-.012 2.155 2.155 0 001.063-1.06 1.942 1.942 0 00.015-1.643 2.127 2.127 0 00-.43-.63c-.18-.187-.4-.341-.642-.444a1.912 1.912 0 00-.78-.176zm9.23.12c-.744 0-1.466.1-2.156.296a.802.802 0 00-.002 0 7.34 7.34 0 00-1.902.845l-.004.002-.002.002a7.622 7.622 0 00-1.594 1.323 7.943 7.943 0 00-1.207 1.738 9.076 9.076 0 00-.76 2.082 10.044 10.044 0 00-.265 2.334c0 .933.139 1.814.42 2.629a.802.802 0 000 .002c.28.806.692 1.525 1.234 2.133a5.836 5.836 0 001.961 1.43.802.802 0 00.008.003c.78.343 1.647.508 2.576.508.581 0 1.132-.126 1.684-.246l1.48 2.07a.802.802 0 00.027.037c.206.255.487.465.803.58.284.11.585.159.897.159h1.552a.802.802 0 00.647-1.278l-2.268-3.082c.304-.249.631-.47.897-.767l.002-.002a7.706 7.706 0 001.177-1.73c.323-.633.57-1.316.739-2.04a10.2 10.2 0 00.254-2.304 8.02 8.02 0 00-.418-2.627 6.255 6.255 0 00-1.235-2.143 5.653 5.653 0 00-1.976-1.434c-.78-.349-1.644-.52-2.569-.52zm-.234 3.216c.47 0 .856.081 1.19.234a.802.802 0 00.003.002c.35.158.624.37.86.656a.802.802 0 00.006.006c.244.292.439.652.58 1.102.14.446.214.961.214 1.555 0 .867-.109 1.635-.318 2.306-.21.671-.502 1.22-.867 1.668-.36.443-.778.775-1.28 1.018-.482.23-1.019.35-1.642.35-.47 0-.857-.082-1.19-.235a2.46 2.46 0 01-.867-.656c-.236-.291-.429-.65-.57-1.098l-.002-.002a5.396 5.396 0 01-.205-1.555c0-.867.11-1.63.318-2.295.218-.68.51-1.235.87-1.683.36-.45.773-.779 1.263-1.014a.802.802 0 00.008-.002 3.617 3.617 0 011.629-.357zm-10.193.863a.802.802 0 00-.797.707l-1.14 9.502a.802.802 0 00.796.898h1.795a.802.802 0 00.797-.707l1.15-9.502a.802.802 0 00-.797-.898z" font-style="italic" font-weight="500" font-size="18.704" font-family="LatoLatin" letter-spacing="0" word-spacing="0" text-anchor="middle" fill="#00bc8c"></path></g></svg>FieldResolver<a class="btn btn-link section-link text-muted" href="#FieldResolver"><i class="fas fa-link"></i></a></h2><p class="">Default field resolver implementation for js object graphs.</p><hr/></section><section id="FilterDSL" class="mb-5"><h2><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 23.283 28.046" class="icon mr-2"><g transform="translate(-76.748 -118.545)"><rect style="marker:none" width="19.198" height="22.348" x="76.756" y="122.895" rx="2.646" ry="2.646" color="#000" overflow="visible" fill="#ff25e9" fill-opacity="0.499" fill-rule="evenodd"></rect><path d="M86.286 138.996a6.114 6.114 0 011.837-3.662 32 32 0 01-.948.04 29.54 29.54 0 01-1.883 0c-2.648-.073-4.759-.447-6.278-.98-.715-.24-1.326-.524-1.798-.849v3.391c1.026 1.072 4.47 2.06 9.018 2.06h.052zM85.382 134.254c.117.003.235.007.354.008a27.382 27.382 0 001.352-.008l.126-.003c4.06-.13 7.088-1.052 8.04-2.045v-3.391c-1.757 1.206-5.468 1.844-9.02 1.844-3.55 0-7.262-.638-9.018-1.844V132.206c.951.993 3.98 1.915 8.04 2.045l.126.003z" style="font-variation-settings:normal" fill="#375a7f"></path><path d="M95.253 127.523V126.69c0-.06-.02-.115-.049-.165-.404-1.552-3.517-3.082-8.97-3.082-5.439 0-8.548 1.522-8.965 3.07a.35.35 0 00-.053.177V127.523c1.023 1.068 4.443 2.054 9.019 2.054 4.575 0 7.995-.986 9.018-2.054z" fill="#375a7f"></path><path d="M86.253 140.11h-.019c-4.453 0-7.527-.825-9.018-1.876v2.959a.34.34 0 00.042.163c.426 1.765 4.238 3.084 8.976 3.084.722 0 1.418-.034 2.088-.092a6.113 6.113 0 01-2.07-4.237z" style="font-variation-settings:normal" fill="#375a7f"></path><path style="line-height:125%;-inkscape-font-specification:&#x27;LatoLatin, Medium Italic&#x27;;font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center" d="M84.13 131.555c-.276 0-.548.065-.793.177a.802.802 0 00-.012.004c-.23.11-.437.268-.61.448-.179.18-.328.398-.433.636a.802.802 0 00-.006.014c-.104.25-.156.52-.156.787 0 .268.053.538.152.785a.802.802 0 00.016.036c.1.218.231.423.393.603a.802.802 0 00.03.031c.178.177.385.323.604.428a.802.802 0 00.026.012 1.943 1.943 0 001.537.004.802.802 0 00.025-.012 2.155 2.155 0 001.063-1.06 1.942 1.942 0 00.015-1.643 2.127 2.127 0 00-.43-.63c-.18-.187-.4-.341-.642-.444a1.912 1.912 0 00-.78-.176zm9.23.12c-.744 0-1.466.1-2.156.296a.802.802 0 00-.002 0 7.34 7.34 0 00-1.902.845l-.004.002-.002.002a7.622 7.622 0 00-1.594 1.323 7.943 7.943 0 00-1.207 1.738 9.076 9.076 0 00-.76 2.082 10.044 10.044 0 00-.265 2.334c0 .933.139 1.814.42 2.629a.802.802 0 000 .002c.28.806.692 1.525 1.234 2.133a5.836 5.836 0 001.961 1.43.802.802 0 00.008.003c.78.343 1.647.508 2.576.508.581 0 1.132-.126 1.684-.246l1.48 2.07a.802.802 0 00.027.037c.206.255.487.465.803.58.284.11.585.159.897.159h1.552a.802.802 0 00.647-1.278l-2.268-3.082c.304-.249.631-.47.897-.767l.002-.002a7.706 7.706 0 001.177-1.73c.323-.633.57-1.316.739-2.04a10.2 10.2 0 00.254-2.304 8.02 8.02 0 00-.418-2.627 6.255 6.255 0 00-1.235-2.143 5.653 5.653 0 00-1.976-1.434c-.78-.349-1.644-.52-2.569-.52zm-.234 3.216c.47 0 .856.081 1.19.234a.802.802 0 00.003.002c.35.158.624.37.86.656a.802.802 0 00.006.006c.244.292.439.652.58 1.102.14.446.214.961.214 1.555 0 .867-.109 1.635-.318 2.306-.21.671-.502 1.22-.867 1.668-.36.443-.778.775-1.28 1.018-.482.23-1.019.35-1.642.35-.47 0-.857-.082-1.19-.235a2.46 2.46 0 01-.867-.656c-.236-.291-.429-.65-.57-1.098l-.002-.002a5.396 5.396 0 01-.205-1.555c0-.867.11-1.63.318-2.295.218-.68.51-1.235.87-1.683.36-.45.773-.779 1.263-1.014a.802.802 0 00.008-.002 3.617 3.617 0 011.629-.357zm-10.193.863a.802.802 0 00-.797.707l-1.14 9.502a.802.802 0 00.796.898h1.795a.802.802 0 00.797-.707l1.15-9.502a.802.802 0 00-.797-.898z" font-style="italic" font-weight="500" font-size="18.704" font-family="LatoLatin" letter-spacing="0" word-spacing="0" text-anchor="middle" fill="#00bc8c"></path></g></svg>FilterDSL<a class="btn btn-link section-link text-muted" href="#FilterDSL"><i class="fas fa-link"></i></a></h2><p class="">The automaton filter DSL creates object graphs representations of filter expressions that can be evaluated as SQL, on
Java objects and on JavaScript objects.</p><h3>.not(operand)</h3><p class="">Logical not condition.</p><h4>Parameters</h4><table class="table table-bordered table-hover"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>operand</td><td>ConditionNode</td><td></td></tr></tbody></table><h4>Return Value</h4>Type: <!-- -->ConditionNode<p class="">negated condition</p><pre></pre><h3>.or(operands)</h3><p class="">Logical or condition. Will remove null conditions</p><h4>Parameters</h4><table class="table table-bordered table-hover"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>operands</td><td>... ConditionNode</td><td></td></tr></tbody></table><h4>Return Value</h4>Type: <!-- -->ConditionNode<p class="">ORed condition</p><pre></pre><h3>.and(operands)</h3><p class="">Logical or condition. Will ignore falsy operands.</p><h4>Parameters</h4><table class="table table-bordered table-hover"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>operands</td><td>... ConditionNode</td><td></td></tr></tbody></table><h4>Return Value</h4>Type: <!-- -->ConditionNode<p class="">ORed condition</p><pre></pre><h3>.condition(name, operands)</h3><p class="">General Condition node. Useful for programmatically instantiating conditions. Not needed for fluent style conditions.</p><h4>Parameters</h4><table class="table table-bordered table-hover"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>name</td><td>String</td><td>condition name</td></tr><tr><td>operands</td><td>Array&lt;ConditionNode&gt;</td><td>operands</td></tr></tbody></table><h4>Return Value</h4>Type: <!-- -->ConditionNode<p class="text-muted">No description</p><pre></pre><h3>.field(name)</h3><p class="">Field / column reference.</p><h4>Parameters</h4><table class="table table-bordered table-hover"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>name</td><td>String</td><td>field name (e.g. &quot;name&quot;, &quot;owner.name&quot;)</td></tr></tbody></table><h4>Return Value</h4>Type: <!-- -->Field<p class="text-muted">No description</p><pre></pre><h3>.component(id, condition)</h3><p class="">Component condition node. These nodes are just marker for which part of the condition originated from which component
Logically they are evaluated as the condition they wrap.</p><h4>Parameters</h4><table class="table table-bordered table-hover"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>id</td><td>String</td><td>component id</td></tr><tr><td>condition</td><td>ConditionNode</td><td>actual condition for component</td></tr></tbody></table><h4>Return Value</h4>Type: <!-- -->ConditionNode<p class="text-muted">No description</p><pre></pre><h3>.value(value)</h3><p class="">Creates a new value node</p><h4>Parameters</h4><table class="table table-bordered table-hover"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>value</td><td>Object</td><td>scalar value of appropriate type</td></tr></tbody></table><pre></pre><h3>.values(type, values)</h3><p class="">Creates a new values node that encapsulates a collection of scalar values (for e.g. the IN operator)</p><h4>Parameters</h4><table class="table table-bordered table-hover"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>type</td><td>String</td><td>scalar type name</td></tr><tr><td>values</td><td>Object</td><td>var args of scalar value of appropriate type</td></tr></tbody></table><h4>Return Value</h4>Type: <!-- -->Values<p class="">values node</p><pre></pre><h3>.getConditionArgCount(name)</h3><p class="">Returns the number of expected arguments for the condition with the given name.</p><h4>Parameters</h4><table class="table table-bordered table-hover"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>name</td><td>String</td><td>condition name</td></tr></tbody></table><h4>Return Value</h4>Type: <!-- -->number<p class="">number of value arguments expected</p><pre></pre><h3>.isLogicalCondition(node)</h3><p class="">Returns true if the given condition node is either a logical and or a logical or condition.</p><h4>Parameters</h4><table class="table table-bordered table-hover"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>node</td><td>Object</td><td>node</td></tr></tbody></table><h4>Return Value</h4>Type: <!-- -->boolean<p class="">true if the node is either an &quot;and&quot; or an &quot;or&quot;</p><pre></pre><h3>.findComponentNode(conditionNode, id)</h3><p class="">Finds a component node with the given id.</p><h4>Parameters</h4><table class="table table-bordered table-hover"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>conditionNode</td><td>Object</td><td>condition structure root</td></tr><tr><td>id</td><td>String</td><td>component id</td></tr></tbody></table><h4>Return Value</h4>Type: <!-- -->Object | null<p class="">component node or `null`</p><pre></pre><section id="filterdsl.type"><h3>FilterDSL.Type<a class="btn btn-link section-link text-muted" href="#filterdsl.type"><i class="fas fa-link"></i></a></h3><div><p>Enum object containting the node types </p><table class="table table-bordered table-hover"><thead><tr><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>FIELD</td><td>field / column reference</td></tr><tr><td>CONDITION</td><td>Condition node</td></tr><tr><td>VALUE</td><td>Value node</td></tr><tr><td>VALUES</td><td>Values node (for .in())</td></tr><tr><td>OPERATION</td><td>field operation</td></tr><tr><td>COMPONENT</td><td>component marker</td></tr></tbody></table></div></section><hr/></section><section id="InteractiveQuery" class="mb-5"><h2><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 23.283 28.046" class="icon mr-2"><g transform="translate(-76.748 -118.545)"><rect style="marker:none" width="19.198" height="22.348" x="76.756" y="122.895" rx="2.646" ry="2.646" color="#000" overflow="visible" fill="#ff25e9" fill-opacity="0.499" fill-rule="evenodd"></rect><path d="M86.286 138.996a6.114 6.114 0 011.837-3.662 32 32 0 01-.948.04 29.54 29.54 0 01-1.883 0c-2.648-.073-4.759-.447-6.278-.98-.715-.24-1.326-.524-1.798-.849v3.391c1.026 1.072 4.47 2.06 9.018 2.06h.052zM85.382 134.254c.117.003.235.007.354.008a27.382 27.382 0 001.352-.008l.126-.003c4.06-.13 7.088-1.052 8.04-2.045v-3.391c-1.757 1.206-5.468 1.844-9.02 1.844-3.55 0-7.262-.638-9.018-1.844V132.206c.951.993 3.98 1.915 8.04 2.045l.126.003z" style="font-variation-settings:normal" fill="#375a7f"></path><path d="M95.253 127.523V126.69c0-.06-.02-.115-.049-.165-.404-1.552-3.517-3.082-8.97-3.082-5.439 0-8.548 1.522-8.965 3.07a.35.35 0 00-.053.177V127.523c1.023 1.068 4.443 2.054 9.019 2.054 4.575 0 7.995-.986 9.018-2.054z" fill="#375a7f"></path><path d="M86.253 140.11h-.019c-4.453 0-7.527-.825-9.018-1.876v2.959a.34.34 0 00.042.163c.426 1.765 4.238 3.084 8.976 3.084.722 0 1.418-.034 2.088-.092a6.113 6.113 0 01-2.07-4.237z" style="font-variation-settings:normal" fill="#375a7f"></path><path style="line-height:125%;-inkscape-font-specification:&#x27;LatoLatin, Medium Italic&#x27;;font-variant-ligatures:normal;font-variant-caps:normal;font-variant-numeric:normal;font-variant-east-asian:normal;text-align:center" d="M84.13 131.555c-.276 0-.548.065-.793.177a.802.802 0 00-.012.004c-.23.11-.437.268-.61.448-.179.18-.328.398-.433.636a.802.802 0 00-.006.014c-.104.25-.156.52-.156.787 0 .268.053.538.152.785a.802.802 0 00.016.036c.1.218.231.423.393.603a.802.802 0 00.03.031c.178.177.385.323.604.428a.802.802 0 00.026.012 1.943 1.943 0 001.537.004.802.802 0 00.025-.012 2.155 2.155 0 001.063-1.06 1.942 1.942 0 00.015-1.643 2.127 2.127 0 00-.43-.63c-.18-.187-.4-.341-.642-.444a1.912 1.912 0 00-.78-.176zm9.23.12c-.744 0-1.466.1-2.156.296a.802.802 0 00-.002 0 7.34 7.34 0 00-1.902.845l-.004.002-.002.002a7.622 7.622 0 00-1.594 1.323 7.943 7.943 0 00-1.207 1.738 9.076 9.076 0 00-.76 2.082 10.044 10.044 0 00-.265 2.334c0 .933.139 1.814.42 2.629a.802.802 0 000 .002c.28.806.692 1.525 1.234 2.133a5.836 5.836 0 001.961 1.43.802.802 0 00.008.003c.78.343 1.647.508 2.576.508.581 0 1.132-.126 1.684-.246l1.48 2.07a.802.802 0 00.027.037c.206.255.487.465.803.58.284.11.585.159.897.159h1.552a.802.802 0 00.647-1.278l-2.268-3.082c.304-.249.631-.47.897-.767l.002-.002a7.706 7.706 0 001.177-1.73c.323-.633.57-1.316.739-2.04a10.2 10.2 0 00.254-2.304 8.02 8.02 0 00-.418-2.627 6.255 6.255 0 00-1.235-2.143 5.653 5.653 0 00-1.976-1.434c-.78-.349-1.644-.52-2.569-.52zm-.234 3.216c.47 0 .856.081 1.19.234a.802.802 0 00.003.002c.35.158.624.37.86.656a.802.802 0 00.006.006c.244.292.439.652.58 1.102.14.446.214.961.214 1.555 0 .867-.109 1.635-.318 2.306-.21.671-.502 1.22-.867 1.668-.36.443-.778.775-1.28 1.018-.482.23-1.019.35-1.642.35-.47 0-.857-.082-1.19-.235a2.46 2.46 0 01-.867-.656c-.236-.291-.429-.65-.57-1.098l-.002-.002a5.396 5.396 0 01-.205-1.555c0-.867.11-1.63.318-2.295.218-.68.51-1.235.87-1.683.36-.45.773-.779 1.263-1.014a.802.802 0 00.008-.002 3.617 3.617 0 011.629-.357zm-10.193.863a.802.802 0 00-.797.707l-1.14 9.502a.802.802 0 00.796.898h1.795a.802.802 0 00.797-.707l1.15-9.502a.802.802 0 00-.797-.898z" font-style="italic" font-weight="500" font-size="18.704" font-family="LatoLatin" letter-spacing="0" word-spacing="0" text-anchor="middle" fill="#00bc8c"></path></g></svg>InteractiveQuery<a class="btn btn-link section-link text-muted" href="#InteractiveQuery"><i class="fas fa-link"></i></a></h2><p class="">Client-side implementation of the InteractiveQuery mechanism. Meant to be registered for all concrete types created
for de.quinscape.automaton.model.data.InteractiveQuery</p><h3>.rows()</h3><p class="">Current result rows of the base type</p><pre></pre><h3>.queryConfig()</h3><p class="">Query config object used to create this query</p><pre></pre><h3>.columnStates()</h3><p class="">Array of column states for this query</p><pre></pre><h3>.rowCount()</h3><p class="">Total number of rows available for pagination</p><pre></pre><h3>.setQueryConfig(config)</h3><p class="">Set the new queryConfig without mobx printing warnings.

This is supposed to be only called from the inside.</p><h4>Parameters</h4><table class="table table-bordered table-hover"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>config</td><td>Object</td><td>the new query configuration</td></tr></tbody></table><pre></pre><h3>.update(queryConfig)</h3><p class="">Updates the current iQuery base on a new query config. The given query config is merged with the current config
so you only need to define the changes.

Examples:

```js
// page to second page
iQuery.update({offset: 10})

// sorty by name descending
iQuery.update({
    sortFields: [ &quot;!name&quot; ]
})
```</p><h4>Parameters</h4><table class="table table-bordered table-hover"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>queryConfig</td><td>Object</td><td>query config structure (see de.quinscape.automaton.model.data.QueryConfig)</td></tr></tbody></table><h4>Return Value</h4>Type: <!-- -->Promise&lt;* | never&gt;<p class="text-muted">No description</p><pre></pre><h3>.updateCondition(componentCondition)</h3><p class="">Updates a component condition in the current query config state.

If no component node is found, the current condition if present will be ANDed with the component condition</p><h4>Parameters</h4><table class="table table-bordered table-hover"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>componentCondition</td><td>Object</td><td>condition node</td></tr></tbody></table><pre></pre><h3>.separate(result, varName)</h3><p class="">Extracts a new independent iQuery object with a new Query containing only the selections for that iQuery.</p><h4>Parameters</h4><table class="table table-bordered table-hover"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>result</td><td>Object</td><td>multi iQuery result object</td></tr><tr><td>varName</td><td>String</td><td>variable name of this query in the original query</td></tr></tbody></table><pre></pre><hr/></section><section id="compareConditions" class="mb-5"><h3>compareConditions(a, b, compareValueNodes)<a class="btn btn-link section-link text-muted" href="#compareConditions"><i class="fas fa-link"></i></a></h3><p class="">Does a deep-comparison between two conditions</p><h4>Parameters</h4><table class="table table-bordered table-hover"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>a</td><td>ConditionNode</td><td>condition node A</td></tr><tr><td>b</td><td>ConditionNode</td><td>condition node B</td></tr><tr><td>compareValueNodes</td><td>boolean</td><td>compare the value of value nodes (default = false)</td></tr></tbody></table><h4>Return Value</h4>Type: <!-- -->boolean<p class="">true if the conditions are equal (ignoring values)</p><pre></pre><hr/></section><section id="createMockedQuery" class="mb-5"><h3>createMockedQuery(format, type, payload)<a class="btn btn-link section-link text-muted" href="#createMockedQuery"><i class="fas fa-link"></i></a></h3><p class="">Creates a mocked query that returns a single constant result.

If you need filtering or pagination on your mock, use createFilteredMockQuery</p><h4>Parameters</h4><table class="table table-bordered table-hover"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>format</td><td>---<!-- -->---</td><td>wire format</td></tr><tr><td>type</td><td>String</td><td>iQuery container type</td></tr><tr><td>payload</td><td>Object | function</td><td>constant iQuery result to return from the mocked query or function producing a result from given variables</td></tr></tbody></table><h4>Return Value</h4>Type: <!-- -->GraphQLQuery<p class="">mocked query object.</p><pre></pre><hr/></section><section id="evaluateMemoryQuery" class="mb-5"><h3>evaluateMemoryQuery(format, cachedDocument, queryConfig)<a class="btn btn-link section-link text-muted" href="#evaluateMemoryQuery"><i class="fas fa-link"></i></a></h3><p class="">Filters a given cached iQuery document according to the give query config object.</p><h4>Parameters</h4><table class="table table-bordered table-hover"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>format</td><td>---<!-- -->---</td><td>WireFormat instance</td></tr><tr><td>cachedDocument</td><td>---<!-- -->---</td><td>cached iQuery document containing all data</td></tr><tr><td>queryConfig</td><td>---<!-- -->---</td><td>QueryConfig instance</td></tr></tbody></table><pre></pre><hr/></section><section id="filterTransformer" class="mb-5"><h3>filterTransformer(condition, resolverFactory)<a class="btn btn-link section-link text-muted" href="#filterTransformer"><i class="fas fa-link"></i></a></h3><p class="">Filter transformer function that transforms a condition as JSON object to an executable JS function.</p><h4>Parameters</h4><table class="table table-bordered table-hover"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>condition</td><td>Object</td><td>JSON condition map</td></tr><tr><td>resolverFactory</td><td>Function</td><td>function that creates a field resolver function for a given field name
                                         ( name =&gt; { return () =&gt; f(name) } )</td></tr></tbody></table><pre></pre><hr/></section><section id="getFirstValue" class="mb-5"><h3>getFirstValue(m)<a class="btn btn-link section-link text-muted" href="#getFirstValue"><i class="fas fa-link"></i></a></h3><p class="">Returns the first value from an object.</p><h4>Parameters</h4><table class="table table-bordered table-hover"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>m</td><td>object</td><td>js object</td></tr></tbody></table><pre></pre><hr/></section><section id="updateComponentCondition" class="mb-5"><h3>updateComponentCondition(compositeCondition, componentCondition)<a class="btn btn-link section-link text-muted" href="#updateComponentCondition"><i class="fas fa-link"></i></a></h3><p class="">Updates a logical condition composed of component conditions with a new condition for one of the components.</p><h4>Parameters</h4><table class="table table-bordered table-hover"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>compositeCondition</td><td>Object</td><td>logical condition composed of component conditions.</td></tr><tr><td>componentCondition</td><td>Object</td><td>new component condition</td></tr></tbody></table><pre></pre><hr/></section></div></div></div></div><div class="col-2"><div class="mt-5 sidebar"><h5>InteractiveQuery / FilterDSL</h5><ul class="markdown-doc list-unstyled"><li><a class="btn btn-link toc-link text-muted" href="#FieldResolver">FieldResolver</a><br/></li><li><a class="btn btn-link toc-link text-muted" href="#FilterDSL">FilterDSL</a><br/></li><li><a class="btn btn-link toc-link text-muted" href="#InteractiveQuery">InteractiveQuery</a><br/></li><li><a class="btn btn-link toc-link text-muted" href="#compareConditions">compareConditions</a><br/></li><li><a class="btn btn-link toc-link text-muted" href="#createMockedQuery">createMockedQuery</a><br/></li><li><a class="btn btn-link toc-link text-muted" href="#evaluateMemoryQuery">evaluateMemoryQuery</a><br/></li><li><a class="btn btn-link toc-link text-muted" href="#filterTransformer">filterTransformer</a><br/></li><li><a class="btn btn-link toc-link text-muted" href="#getFirstValue">getFirstValue</a><br/></li><li><a class="btn btn-link toc-link text-muted" href="#updateComponentCondition">updateComponentCondition</a><br/></li></ul></div></div></main><footer class="row"><div class="col"><hr/></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"title":"InteractiveQuery / FilterDSL","docs":{"handwritten":[{"replace":"FilterDSL.Type","src":"FilterDSL-Type.md","frontmatter":{},"sections":[{"stub":"filterdsl.type","title":"FilterDSL.Type","level":3,"content":"\u003cp\u003eEnum object containting the node types \u003c/p\u003e\u003ctable class=\"table table-bordered table-hover\"\u003e\u003cthead\u003e\u003ctr\u003e\u003cth\u003eType\u003c/th\u003e\u003cth\u003eDescription\u003c/th\u003e\u003c/tr\u003e\u003c/thead\u003e\u003ctbody\u003e\u003ctr\u003e\u003ctd\u003eFIELD\u003c/td\u003e\u003ctd\u003efield / column reference\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003eCONDITION\u003c/td\u003e\u003ctd\u003eCondition node\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003eVALUE\u003c/td\u003e\u003ctd\u003eValue node\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003eVALUES\u003c/td\u003e\u003ctd\u003eValues node (for .in())\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003eOPERATION\u003c/td\u003e\u003ctd\u003efield operation\u003c/td\u003e\u003c/tr\u003e\u003ctr\u003e\u003ctd\u003eCOMPONENT\u003c/td\u003e\u003ctd\u003ecomponent marker\u003c/td\u003e\u003c/tr\u003e\u003c/tbody\u003e\u003c/table\u003e"}],"toc":{"level":3,"name":"filterdsl.type","title":"FilterDSL.Type","headings":[]}}],"docs":{"compareConditions":{"name":"compareConditions","source":"src/util/compareConditions.js","description":{"description":"Does a deep-comparison between two conditions","tags":[{"title":"category","description":"iquery"},{"title":"param","description":"condition node A","type":{"type":"NameExpression","name":"ConditionNode"},"name":"a"},{"title":"param","description":"condition node B","type":{"type":"NameExpression","name":"ConditionNode"},"name":"b"},{"title":"param","description":"compare the value of value nodes (default = false)","type":{"type":"NameExpression","name":"boolean"},"name":"compareValueNodes"},{"title":"return","description":"true if the conditions are equal (ignoring values)","type":{"type":"NameExpression","name":"boolean"}}]},"group":"FUNCTION","reactDocGen":null,"start":16,"end":70,"category":"iquery","link":"iquery#compareConditions"},"createMockedQuery":{"name":"createMockedQuery","source":"src/util/createMockedQuery.js","description":{"description":"Creates a mocked query that returns a single constant result.\n\nIf you need filtering or pagination on your mock, use createFilteredMockQuery","tags":[{"title":"category","description":"iquery"},{"title":"param","description":"wire format","type":null,"name":"format"},{"title":"param","description":"iQuery container type","type":{"type":"NameExpression","name":"String"},"name":"type"},{"title":"param","description":"constant iQuery result to return from the mocked query or function producing a result from given variables","type":{"type":"UnionType","elements":[{"type":"NameExpression","name":"Object"},{"type":"NameExpression","name":"function"}]},"name":"payload"},{"title":"return","description":"mocked query object.","type":{"type":"NameExpression","name":"GraphQLQuery"}}]},"group":"FUNCTION","reactDocGen":null,"start":18,"end":66,"category":"iquery","link":"iquery#createMockedQuery"},"evaluateMemoryQuery":{"name":"evaluateMemoryQuery","source":"src/util/evaluateMemoryQuery.js","description":{"description":"Filters a given cached iQuery document according to the give query config object.","tags":[{"title":"category","description":"iquery"},{"title":"param","description":"WireFormat instance","type":null,"name":"format"},{"title":"param","description":"cached iQuery document containing all data","type":null,"name":"cachedDocument"},{"title":"param","description":"QueryConfig instance","type":null,"name":"queryConfig"}]},"group":"FUNCTION","reactDocGen":null,"start":122,"end":171,"category":"iquery","link":"iquery#evaluateMemoryQuery"},"FieldResolver":{"name":"FieldResolver","source":"src/util/filterTransformer.js","description":{"description":"Default field resolver implementation for js object graphs.","tags":[{"title":"category","description":"iquery"},{"title":"param","description":"initial object","type":{"type":"NameExpression","name":"Object"},"name":"current"},{"title":"constructor","description":null,"name":null}]},"group":"UTIL","reactDocGen":null,"start":540,"end":555,"category":"iquery","link":"iquery#FieldResolver"},"FilterDSL":{"name":"FilterDSL","source":"src/FilterDSL.js","description":{"description":"The automaton filter DSL creates object graphs representations of filter expressions that can be evaluated as SQL, on\nJava objects and on JavaScript objects.","tags":[{"title":"category","description":"iquery"}]},"group":"UTIL","reactDocGen":null,"start":585,"end":693,"members":[{"type":"Identifier","name":"not","description":{"description":"Logical not condition.","tags":[{"title":"param","description":null,"type":{"type":"NameExpression","name":"ConditionNode"},"name":"operand"},{"title":"return","description":"negated condition","type":{"type":"NameExpression","name":"ConditionNode"}}]}},{"type":"Identifier","name":"or","description":{"description":"Logical or condition. Will remove null conditions","tags":[{"title":"param","description":null,"type":{"type":"RestType","expression":{"type":"NameExpression","name":"ConditionNode"}},"name":"operands"},{"title":"return","description":"ORed condition","type":{"type":"NameExpression","name":"ConditionNode"}}]}},{"type":"Identifier","name":"and","description":{"description":"Logical or condition. Will ignore falsy operands.","tags":[{"title":"param","description":null,"type":{"type":"RestType","expression":{"type":"NameExpression","name":"ConditionNode"}},"name":"operands"},{"title":"return","description":"ORed condition","type":{"type":"NameExpression","name":"ConditionNode"}}]}},{"type":"Identifier","name":"condition","description":{"description":"General Condition node. Useful for programmatically instantiating conditions. Not needed for fluent style conditions.","tags":[{"title":"param","description":"condition name","type":{"type":"NameExpression","name":"String"},"name":"name"},{"title":"param","description":"operands","type":{"type":"TypeApplication","expression":{"type":"NameExpression","name":"Array"},"applications":[{"type":"NameExpression","name":"ConditionNode"}]},"name":"operands"},{"title":"return","description":null,"type":{"type":"NameExpression","name":"ConditionNode"}}]}},{"type":"Identifier","name":"field","description":{"description":"Field / column reference.","tags":[{"title":"param","description":"field name (e.g. \"name\", \"owner.name\")","type":{"type":"NameExpression","name":"String"},"name":"name"},{"title":"return","description":null,"type":{"type":"NameExpression","name":"Field"}}]}},{"type":"Identifier","name":"component","description":{"description":"Component condition node. These nodes are just marker for which part of the condition originated from which component\nLogically they are evaluated as the condition they wrap.","tags":[{"title":"param","description":"component id","type":{"type":"NameExpression","name":"String"},"name":"id"},{"title":"param","description":"actual condition for component","type":{"type":"NameExpression","name":"ConditionNode"},"name":"condition"},{"title":"return","description":null,"type":{"type":"NameExpression","name":"ConditionNode"}}]}},{"type":"Identifier","name":"value","description":{"description":"Creates a new value node","tags":[{"title":"param","description":"scalar value of appropriate type","type":{"type":"NameExpression","name":"Object"},"name":"value"}]}},{"type":"Identifier","name":"values","description":{"description":"Creates a new values node that encapsulates a collection of scalar values (for e.g. the IN operator)","tags":[{"title":"param","description":"scalar type name","type":{"type":"NameExpression","name":"String"},"name":"type"},{"title":"param","description":"var args of scalar value of appropriate type","type":{"type":"NameExpression","name":"Object"},"name":"values"},{"title":"return","description":"values node","type":{"type":"NameExpression","name":"Values"}}]}},{"type":"Identifier","name":"getConditionArgCount","description":{"description":"Returns the number of expected arguments for the condition with the given name.","tags":[{"title":"param","description":"condition name","type":{"type":"NameExpression","name":"String"},"name":"name"},{"title":"return","description":"number of value arguments expected","type":{"type":"NameExpression","name":"number"}}]}},{"type":"Identifier","name":"isLogicalCondition","description":{"description":"Returns true if the given condition node is either a logical and or a logical or condition.","tags":[{"title":"param","description":"node","type":{"type":"NameExpression","name":"Object"},"name":"node"},{"title":"return","description":"true if the node is either an \"and\" or an \"or\"","type":{"type":"NameExpression","name":"boolean"}}]}},{"type":"Identifier","name":"findComponentNode","description":{"description":"Finds a component node with the given id.","tags":[{"title":"param","description":"condition structure root","type":{"type":"NameExpression","name":"Object"},"name":"conditionNode"},{"title":"param","description":"component id","type":{"type":"NameExpression","name":"String"},"name":"id"},{"title":"return","description":"component node or `null`","type":{"type":"UnionType","elements":[{"type":"NameExpression","name":"Object"},{"type":"NullLiteral"}]}}]}},{"type":"Identifier","name":"Type","description":{"description":"Node type constants.","tags":[{"title":"type","description":null,"type":{"type":"RecordType","fields":[{"type":"FieldType","key":"OPERATION","value":{"type":"NameExpression","name":"string"}},{"type":"FieldType","key":"FIELD","value":{"type":"NameExpression","name":"string"}},{"type":"FieldType","key":"CONDITION","value":{"type":"NameExpression","name":"string"}},{"type":"FieldType","key":"COMPONENT","value":{"type":"NameExpression","name":"string"}},{"type":"FieldType","key":"VALUE","value":{"type":"NameExpression","name":"string"}},{"type":"FieldType","key":"VALUES","value":{"type":"NameExpression","name":"string"}}]}}]}}],"category":"iquery","link":"iquery#FilterDSL"},"filterTransformer":{"name":"filterTransformer","source":"src/util/filterTransformer.js","description":{"description":"Filter transformer function that transforms a condition as JSON object to an executable JS function.","tags":[{"title":"category","description":"iquery"},{"title":"param","description":"JSON condition map","type":{"type":"NameExpression","name":"Object"},"name":"condition"},{"title":"param","description":"function that creates a field resolver function for a given field name\n                                         ( name =\u003e { return () =\u003e f(name) } )","type":{"type":"NameExpression","name":"Function"},"name":"resolverFactory"}]},"group":"FUNCTION","reactDocGen":null,"start":513,"end":529,"category":"iquery","link":"iquery#filterTransformer"},"getFirstValue":{"name":"getFirstValue","source":"src/model/InteractiveQuery.js","description":{"description":"Returns the first value from an object.","tags":[{"title":"category","description":"iquery"},{"title":"param","description":"js object","type":{"type":"NameExpression","name":"object"},"name":"m"},{"title":"returns","description":null,"type":{"type":"AllLiteral"}}]},"group":"FUNCTION","reactDocGen":null,"start":20,"end":30,"category":"iquery","link":"iquery#getFirstValue"},"InteractiveQuery":{"name":"InteractiveQuery","source":"src/model/InteractiveQuery.js","description":{"description":"Client-side implementation of the InteractiveQuery mechanism. Meant to be registered for all concrete types created\nfor de.quinscape.automaton.model.data.InteractiveQuery","tags":[{"title":"category","description":"iquery"}]},"group":"UTIL","reactDocGen":null,"start":88,"end":290,"members":[{"type":"ClassProperty","name":"rows","description":{"description":"Current result rows of the base type","tags":[]},"decorators":["observable"]},{"type":"ClassProperty","name":"queryConfig","description":{"description":"Query config object used to create this query","tags":[]},"decorators":["observable"]},{"type":"ClassProperty","name":"columnStates","description":{"description":"Array of column states for this query","tags":[]},"decorators":["observable"]},{"type":"ClassProperty","name":"rowCount","description":{"description":"Total number of rows available for pagination","tags":[{"title":"type","description":null,"type":{"type":"NameExpression","name":"number"}}]},"decorators":["observable"]},{"type":"ClassMethod","name":"setQueryConfig","description":{"description":"Set the new queryConfig without mobx printing warnings.\n\nThis is supposed to be only called from the inside.","tags":[{"title":"param","description":"the new query configuration","type":{"type":"NameExpression","name":"Object"},"name":"config"}]},"decorators":["action"]},{"type":"ClassMethod","name":"update","description":{"description":"Updates the current iQuery base on a new query config. The given query config is merged with the current config\nso you only need to define the changes.\n\nExamples:\n\n```js\n// page to second page\niQuery.update({offset: 10})\n\n// sorty by name descending\niQuery.update({\n    sortFields: [ \"!name\" ]\n})\n```","tags":[{"title":"param","description":"query config structure (see de.quinscape.automaton.model.data.QueryConfig)","type":{"type":"NameExpression","name":"Object"},"name":"queryConfig"},{"title":"return","description":null,"type":{"type":"TypeApplication","expression":{"type":"NameExpression","name":"Promise"},"applications":[{"type":"UnionType","elements":[{"type":"AllLiteral"},{"type":"NameExpression","name":"never"}]}]}}]},"decorators":["action"]},{"type":"ClassMethod","name":"updateCondition","description":{"description":"Updates a component condition in the current query config state.\n\nIf no component node is found, the current condition if present will be ANDed with the component condition","tags":[{"title":"param","description":"condition node","type":{"type":"NameExpression","name":"Object"},"name":"componentCondition"}]},"decorators":[]},{"type":"ClassMethod","name":"separate","description":{"description":"Extracts a new independent iQuery object with a new Query containing only the selections for that iQuery.","tags":[{"title":"param","description":"multi iQuery result object","type":{"type":"NameExpression","name":"Object"},"name":"result"},{"title":"param","description":"variable name of this query in the original query","type":{"type":"NameExpression","name":"String"},"name":"varName"}]},"decorators":[]}],"category":"iquery","link":"iquery#InteractiveQuery"},"updateComponentCondition":{"name":"updateComponentCondition","source":"src/util/updateComponentCondition.js","description":{"description":"Updates a logical condition composed of component conditions with a new condition for one of the components.","tags":[{"title":"category","description":"iquery"},{"title":"param","description":"logical condition composed of component conditions.","type":{"type":"NameExpression","name":"Object"},"name":"compositeCondition"},{"title":"param","description":"new component condition","type":{"type":"NameExpression","name":"Object"},"name":"componentCondition"}]},"group":"FUNCTION","reactDocGen":null,"start":83,"end":190,"category":"iquery","link":"iquery#updateComponentCondition"}},"utils":["FieldResolver","FilterDSL","InteractiveQuery"],"functions":["compareConditions","createMockedQuery","evaluateMemoryQuery","filterTransformer","getFirstValue","updateComponentCondition"]}},"__N_SSG":true},"page":"/iquery","query":{},"buildId":"CMA9tZLjYQcryFRYcJlJn","assetPrefix":"/automaton-js","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>