<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Automaton-Js Documentation - Form Design in domainql-form</title><link rel="stylesheet" type="text/css" href="/automaton-js/css/fontawesome.min.css"/><link rel="stylesheet" type="text/css" href="/automaton-js/css/brands.min.css"/><link rel="stylesheet" type="text/css" href="/automaton-js/css/solid.min.css"/><link rel="stylesheet" type="text/css" href="/automaton-js/css/bootstrap-automaton-condensed.min.css"/><meta name="next-head-count" content="8"/><link rel="preload" href="/automaton-js/_next/static/css/475d436e3bcf48d20e2a.css" as="style"/><link rel="stylesheet" href="/automaton-js/_next/static/css/475d436e3bcf48d20e2a.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/automaton-js/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" as="script"/><link rel="preload" href="/automaton-js/_next/static/chunks/framework.4b81eedf2fcdb09bf521.js" as="script"/><link rel="preload" href="/automaton-js/_next/static/chunks/commons.cd96d4983e829a7e79a0.js" as="script"/><link rel="preload" href="/automaton-js/_next/static/chunks/main-20907b484249638f301b.js" as="script"/><link rel="preload" href="/automaton-js/_next/static/chunks/pages/_app-cc0c2dc6944ba668189e.js" as="script"/><link rel="preload" href="/automaton-js/_next/static/chunks/pages/explanation/%5Bname%5D-2672907eaa2316a28814.js" as="script"/></head><body><div id="__next"><div class="container"><header><nav class="navbar navbar-dark bg-primary"><a class="navbar-brand text-white" href="/automaton-js/"><i class="fab fa-quinscape"></i> Automaton-Js</a></nav></header><main class="row"><div class="col-9 mt-3"><div class="container"><div class="row"><div class="col"><section id="form-design-in-domainql-form"><h1>Form Design in domainql-form</h1><div><p>This document goes deeper into the high-level design aspects of domainql-form. How I initially envisioned them to work and how they evolved over time driven by our experiences with it.</p></div></section><section id="first-concept"><h2>First concept<a class="btn btn-link section-link text-muted" href="#first-concept"><i class="fas fa-link"></i></a></h2><div><p>The first concept was really simple. We have a MobX domain object that represents the root object for the part of the domain we manage with the form, and then we have the <em><div></div></em> componen&gt;</p><p>The <em><div></div></em> components reference paths within the object graph by lodash like paths. Here for our example <em>&quot;owner.name&quot;</em>, which first references the owner object that is embedded as prop&gt;</p><p>I mostly imagined one big <em><div></div></em> component per view.</p><p>[<img src="/media/form-1.png" alt="Diagram showing the initially envisioned connection between the Form component and MobX domain object."/>]</p><p>This works and for large parts still works this way, but over time we slowly evolved into a more complex model.</p></div></section><section id="problem-html"><h3>Problem: HTML<a class="btn btn-link section-link text-muted" href="#problem-html"><i class="fas fa-link"></i></a></h3><div><p>The first thing that became on issue was the of course well-known fact that you can&#x27;t nest forms within <em>HTML</em>. And at first it seems like, duh, who would do something like that? But then y&gt;</p></div></section><section id="problem-awkard-forms"><h3>Problem: Awkard forms<a class="btn btn-link section-link text-muted" href="#problem-awkard-forms"><i class="fas fa-link"></i></a></h3><div><p>While in some cases it is just natural to have sub-ordinate objects connected in the form and to edit fields within those, but as soon as you get to lists or deeply nested property paths it&gt;</p></div></section><section id="solution-many-forms-paradigm"><h2>Solution: Many Forms Paradigm<a class="btn btn-link section-link text-muted" href="#solution-many-forms-paradigm"><i class="fas fa-link"></i></a></h2><div><p>So we obviously need to be able to have many forms, often referencing the same object. But we also have cases where we want to edit the nth element out of a list of associated entities.</p><p>The form components now point anywhere they like. One root object, many root objects, objects within root objects, doesn&#x27;t matter.</p><p>[<img src="/media/form-2.png" alt="Diagram showing the new &quot;Many Forms&quot; approach "/>]</p><p>We just have many forms that write into the same (non-isolated) objects. These <em><div></div></em> components all have their own <em><form></form></em> elements. But what we want most of the time is that the form&gt;</p><p>If the user has entered erroneous data and there is an error displayed, all non-discarding buttons must be disabled. Only things like <em>&quot;Cancel&quot;</em> can remain enabled.</p></div></section><section id="formcontext"><h2>FormContext<a class="btn btn-link section-link text-muted" href="#formcontext"><i class="fas fa-link"></i></a></h2><div><p>This orchestration of <em><div></div></em> component functionality is handled by the new FormContext class. There is a default context that is always used unless the application author created and ref&gt;</p><p>The FormContext also registers all available memoized field-contexts which can be used to implement high-level form behavior on top of domainql-form.</p></div></section></div></div></div></div><div class="col-3"><div class="mt-5 sidebar"><h5>Form Design in domainql-form</h5><ul class="markdown-doc list-unstyled"><li><a class="btn btn-link toc-link text-muted" href="#first-concept">First concept</a><ul class="list-unstyled pl-4"><li><a class="btn btn-link toc-link text-muted" href="#problem-html">Problem: HTML</a></li><li><a class="btn btn-link toc-link text-muted" href="#problem-awkard-forms">Problem: Awkard forms</a></li></ul></li><li><a class="btn btn-link toc-link text-muted" href="#solution-many-forms-paradigm">Solution: Many Forms Paradigm</a></li><li><a class="btn btn-link toc-link text-muted" href="#formcontext">FormContext</a></li></ul></div></div></main><footer class="row"><div class="col"><hr/></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"name":"form-structure","markdown":{"src":"explanation-form-structure.md","frontmatter":{"title":"Form Design in domainql-form","date":"2021-9-16"},"sections":[{"stub":"form-design-in-domainql-form","title":"Form Design in domainql-form","level":1,"content":"\u003cp\u003eThis document goes deeper into the high-level design aspects of domainql-form. How I initially envisioned them to work and how they evolved over time driven by our experiences with it.\u003c/p\u003e"},{"stub":"first-concept","title":"First concept","level":2,"content":"\u003cp\u003eThe first concept was really simple. We have a MobX domain object that represents the root object for the part of the domain we manage with the form, and then we have the \u003cem\u003e\u003cdiv\u003e\u003c/div\u003e\u003c/em\u003e componen\u0026gt;\u003c/p\u003e\u003cp\u003eThe \u003cem\u003e\u003cdiv\u003e\u003c/div\u003e\u003c/em\u003e components reference paths within the object graph by lodash like paths. Here for our example \u003cem\u003e\u0026quot;owner.name\u0026quot;\u003c/em\u003e, which first references the owner object that is embedded as prop\u0026gt;\u003c/p\u003e\u003cp\u003eI mostly imagined one big \u003cem\u003e\u003cdiv\u003e\u003c/div\u003e\u003c/em\u003e component per view.\u003c/p\u003e\u003cp\u003e[\u003cimg src=\"/media/form-1.png\" alt=\"Diagram showing the initially envisioned connection between the Form component and MobX domain object.\"/\u003e]\u003c/p\u003e\u003cp\u003eThis works and for large parts still works this way, but over time we slowly evolved into a more complex model.\u003c/p\u003e"},{"stub":"problem-html","title":"Problem: HTML","level":3,"content":"\u003cp\u003eThe first thing that became on issue was the of course well-known fact that you can\u0026#x27;t nest forms within \u003cem\u003eHTML\u003c/em\u003e. And at first it seems like, duh, who would do something like that? But then y\u0026gt;\u003c/p\u003e"},{"stub":"problem-awkard-forms","title":"Problem: Awkard forms","level":3,"content":"\u003cp\u003eWhile in some cases it is just natural to have sub-ordinate objects connected in the form and to edit fields within those, but as soon as you get to lists or deeply nested property paths it\u0026gt;\u003c/p\u003e"},{"stub":"solution-many-forms-paradigm","title":"Solution: Many Forms Paradigm","level":2,"content":"\u003cp\u003eSo we obviously need to be able to have many forms, often referencing the same object. But we also have cases where we want to edit the nth element out of a list of associated entities.\u003c/p\u003e\u003cp\u003eThe form components now point anywhere they like. One root object, many root objects, objects within root objects, doesn\u0026#x27;t matter.\u003c/p\u003e\u003cp\u003e[\u003cimg src=\"/media/form-2.png\" alt=\"Diagram showing the new \u0026quot;Many Forms\u0026quot; approach \"/\u003e]\u003c/p\u003e\u003cp\u003eWe just have many forms that write into the same (non-isolated) objects. These \u003cem\u003e\u003cdiv\u003e\u003c/div\u003e\u003c/em\u003e components all have their own \u003cem\u003e\u003cform\u003e\u003c/form\u003e\u003c/em\u003e elements. But what we want most of the time is that the form\u0026gt;\u003c/p\u003e\u003cp\u003eIf the user has entered erroneous data and there is an error displayed, all non-discarding buttons must be disabled. Only things like \u003cem\u003e\u0026quot;Cancel\u0026quot;\u003c/em\u003e can remain enabled.\u003c/p\u003e"},{"stub":"formcontext","title":"FormContext","level":2,"content":"\u003cp\u003eThis orchestration of \u003cem\u003e\u003cdiv\u003e\u003c/div\u003e\u003c/em\u003e component functionality is handled by the new FormContext class. There is a default context that is always used unless the application author created and ref\u0026gt;\u003c/p\u003e\u003cp\u003eThe FormContext also registers all available memoized field-contexts which can be used to implement high-level form behavior on top of domainql-form.\u003c/p\u003e"}],"toc":{"level":1,"name":"form-design-in-domainql-form","title":"Form Design in domainql-form","headings":[{"level":2,"name":"first-concept","title":"First concept","headings":[{"level":3,"name":"problem-html","title":"Problem: HTML","headings":[]},{"level":3,"name":"problem-awkard-forms","title":"Problem: Awkard forms","headings":[]}]},{"level":2,"name":"solution-many-forms-paradigm","title":"Solution: Many Forms Paradigm","headings":[]},{"level":2,"name":"formcontext","title":"FormContext","headings":[]}]}},"title":"Form Design in domainql-form","prev":{"src":"explanation-filter-dsl.md","frontmatter":{"title":"Filter DSL","date":"2021-04-08T00:00:00.000Z"},"sections":[{"stub":"filterdsl-full-stack-filtering-","title":"FilterDSL: Full-stack filtering ","level":1,"content":"\u003cp\u003eThe FilterDSL was initially developed for the needs of the InteractiveQuery mechanism but quickly grew into the\ngeneral-purpose filtering tool it is now.\u003c/p\u003e"},{"stub":"origins-jooq-conditions","title":"Origins: JOOQ Conditions","level":2,"content":"\u003cp\u003eThe JOOQ library on which DomainQL is offers a typed Java DSL for writing complex SQL statements in Java. A part of this\nis the JOOQ conditions in, for example in the WHERE clause.\u003c/p\u003e\u003cp\u003eThe Automaton-Js FilterDSL is a JavaScript API modeled after that part of the JOOQ API.\u003c/p\u003e"},{"stub":"filter-execution-across-the-stack","title":"Filter Execution Across the stack","level":2,"content":"\u003cp\u003eThe FilterDSL functions produce a JSON graph that can be transmitted to the server and back and that can be transformed\ninto an actual filter in three different ways now:\u003c/p\u003e\u003cul\u003e\u003cli\u003eIt can be transformed into a JOOQ condition that then gets executed as SQL\u003c/li\u003e\u003cli\u003eIt can be transformed into a Java object filter. This is for example used to filter pub-sub messages for subscriptions.\u003c/li\u003e\u003cli\u003eIt can be transformed into a JavaScript filter function\n\u003c/li\u003e\u003c/ul\u003e\u003cp\u003eTo be able to transmit the condition graphs from the server to the client and back via GraphQL, we have special scalar\nimplementations that handle that with structural validation. Semantic validation is up to the filter transformer.\u003c/p\u003e"},{"stub":"sql-execution","title":"SQL Execution","level":3,"content":"\u003cp\u003eThe SQL execution is baked into Interactive Query mechanism but can also be used independently of that.\u003c/p\u003e\u003cpre\u003e\u003cpre class=\"prism-code language-java p-3\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa\"\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003eimport de.quinscape.automaton.runtime.data.FilterTransformer;\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003eimport de.quinscape.automaton.runtime.data.FieldResolver;\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003eimport de.quinscape.automaton.runtime.data.SimpleFieldResolver;\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\" style=\"display:inline-block\"\u003e\n\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\" style=\"display:inline-block\"\u003e\n\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e// ...\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003eclass JOOQConditionExample\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e{\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e    \u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e    // ...\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e    FilterTransformer transformer = new FilterTransformer();\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e    FieldResolver fieldResolver = new SimpleFieldResolver();\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e    Condition condition = transformer.transform(fieldResolver, conditionScalar);\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e}\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/pre\u003e\u003cp\u003eThe fieldResolver resolves \u003ccode\u003efield(\u0026quot;name\u0026quot;)\u0026quot;\u003c/code\u003e expressions to JOOQ field references. The SimpleFieldResolver uses normal\nSQL semantics.\u003c/p\u003e"},{"stub":"java-execution","title":"Java Execution","level":3,"content":"\u003cpre\u003e\u003cpre class=\"prism-code language-java p-3\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa\"\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003eimport de.quinscape.automaton.runtime.filter.JavaFilterTransformer;\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003eimport de.quinscape.automaton.runtime.filter.Filter;\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\" style=\"display:inline-block\"\u003e\n\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\" style=\"display:inline-block\"\u003e\n\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e// ...\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003eclass JavaFilterExample\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e{\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\" style=\"display:inline-block\"\u003e\n\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e    // ...\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e    JavaFilterTransformer transformer = new JavaFilterTransformer();\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e    // condition is a raw condition Map\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e    Filter filter = transformer.transform(condition);\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e}\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/pre\u003e"},{"stub":"javascript-execution","title":"JavaScript Execution","level":3,"content":"\u003cpre\u003e\u003cpre class=\"prism-code language-js p-3\" style=\"color:rgb(36, 41, 46);background-color:#f6f8fa\"\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token keyword module\" style=\"color:#e3116c\"\u003eimport\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token imports punctuation\" style=\"color:rgb(36, 41, 46)\"\u003e{\u003c/span\u003e\u003cspan class=\"token imports\"\u003e filterTransformer\u003c/span\u003e\u003cspan class=\"token imports punctuation\" style=\"color:rgb(36, 41, 46)\"\u003e,\u003c/span\u003e\u003cspan class=\"token imports\"\u003e \u003c/span\u003e\u003cspan class=\"token imports maybe-class-name\"\u003eFieldResolver\u003c/span\u003e\u003cspan class=\"token imports\"\u003e \u003c/span\u003e\u003cspan class=\"token imports punctuation\" style=\"color:rgb(36, 41, 46)\"\u003e}\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token keyword module\" style=\"color:#e3116c\"\u003efrom\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token string\"\u003e\u0026quot;@quinscape/automaton-js\u0026quot;\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\" style=\"display:inline-block\"\u003e\n\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003cspan class=\"token keyword\" style=\"color:#e3116c\"\u003econst\u003c/span\u003e\u003cspan class=\"token plain\"\u003e resolver \u003c/span\u003e\u003cspan class=\"token operator\" style=\"color:rgb(0, 92, 197)\"\u003e=\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token keyword\" style=\"color:#e3116c\"\u003enew\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token class-name\" style=\"color:rgb(227, 98, 9)\"\u003eFieldResolver\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\"\u003e;\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003cspan class=\"token keyword\" style=\"color:#e3116c\"\u003econst\u003c/span\u003e\u003cspan class=\"token plain\"\u003e filterFn \u003c/span\u003e\u003cspan class=\"token operator\" style=\"color:rgb(0, 92, 197)\"\u003e=\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token function\" style=\"color:rgb(111, 66, 193)\"\u003efilterTransformer\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\"\u003e(\u003c/span\u003e\u003cspan class=\"token plain\"\u003econdition\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\"\u003e,\u003c/span\u003e\u003cspan class=\"token plain\"\u003e resolver\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\" style=\"color:rgb(111, 66, 193)\"\u003eresolve\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\"\u003e;\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\" style=\"display:inline-block\"\u003e\n\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003cspan class=\"token comment\" style=\"color:rgb(106, 153, 85)\"\u003e// ... set current object\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003eresolver\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\"\u003e.\u003c/span\u003e\u003cspan class=\"token property-access\" style=\"color:rgb(111, 66, 193)\"\u003ecurrent\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token operator\" style=\"color:rgb(0, 92, 197)\"\u003e=\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\"\u003e{\u003c/span\u003e\u003cspan class=\"token plain\"\u003e name\u003c/span\u003e\u003cspan class=\"token operator\" style=\"color:rgb(0, 92, 197)\"\u003e:\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token string\"\u003e\u0026quot;test\u0026quot;\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\"\u003e,\u003c/span\u003e\u003cspan class=\"token plain\"\u003e num\u003c/span\u003e\u003cspan class=\"token operator\" style=\"color:rgb(0, 92, 197)\"\u003e:\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token number\"\u003e3542\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\"\u003e;\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003cspan class=\"token comment\" style=\"color:rgb(106, 153, 85)\"\u003e// evaluate filterFn against the current object\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003cspan class=\"token keyword control-flow\" style=\"color:#e3116c\"\u003eif\u003c/span\u003e\u003cspan class=\"token plain\"\u003e \u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\"\u003e(\u003c/span\u003e\u003cspan class=\"token function\" style=\"color:rgb(111, 66, 193)\"\u003efilterFn\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\"\u003e)\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\"\u003e{\u003c/span\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e    \u003c/span\u003e\u003c/div\u003e\u003cdiv class=\"token-line\" style=\"color:rgb(36, 41, 46)\"\u003e\u003cspan class=\"token plain\"\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\" style=\"color:rgb(36, 41, 46)\"\u003e}\u003c/span\u003e\u003c/div\u003e\u003c/pre\u003e\u003c/pre\u003e\u003cp\u003eThe \u003ca href=\"/iquery#filterTransformer\"\u003efilterTransformer\u003c/a\u003e returns a filter function that resolves field references via the resolver\nfactory.\u003c/p\u003e\u003cp\u003eThe default FieldResolver resolves fields with normal JavaScript Object graph semantics. (lodash style paths, e.g. \u0026quot;rows.0.name\u0026quot;)\u003c/p\u003e"}],"toc":{"level":1,"name":"filterdsl-full-stack-filtering-","title":"FilterDSL: Full-stack filtering ","headings":[{"level":2,"name":"origins-jooq-conditions","title":"Origins: JOOQ Conditions","headings":[]},{"level":2,"name":"filter-execution-across-the-stack","title":"Filter Execution Across the stack","headings":[{"level":3,"name":"sql-execution","title":"SQL Execution","headings":[]},{"level":3,"name":"java-execution","title":"Java Execution","headings":[]},{"level":3,"name":"javascript-execution","title":"JavaScript Execution","headings":[]}]}]},"content":null,"name":"filter-dsl","title":"Filter DSL"},"next":null},"__N_SSG":true},"page":"/explanation/[name]","query":{"name":"form-structure"},"buildId":"Qt1OcudHsHjLdnKUTsspB","assetPrefix":"/automaton-js","nextExport":false,"isFallback":false,"gsp":true}</script><script nomodule="" src="/automaton-js/_next/static/chunks/polyfills-462676b8e60afb64d330.js"></script><script src="/automaton-js/_next/static/chunks/webpack-50bee04d1dc61f8adf5b.js" async=""></script><script src="/automaton-js/_next/static/chunks/framework.4b81eedf2fcdb09bf521.js" async=""></script><script src="/automaton-js/_next/static/chunks/commons.cd96d4983e829a7e79a0.js" async=""></script><script src="/automaton-js/_next/static/chunks/main-20907b484249638f301b.js" async=""></script><script src="/automaton-js/_next/static/chunks/pages/_app-cc0c2dc6944ba668189e.js" async=""></script><script src="/automaton-js/_next/static/chunks/pages/explanation/%5Bname%5D-2672907eaa2316a28814.js" async=""></script><script src="/automaton-js/_next/static/Qt1OcudHsHjLdnKUTsspB/_buildManifest.js" async=""></script><script src="/automaton-js/_next/static/Qt1OcudHsHjLdnKUTsspB/_ssgManifest.js" async=""></script></body></html>